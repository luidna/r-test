<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>REAPER Remote Control</title>
  <style>
    body { font-family: sans-serif; text-align: center; margin-top: 100px; }
    button {
      font-size: 2em; padding: 20px 40px; margin: 20px;
      border: none; border-radius: 10px; cursor: pointer;
    }
    .record { background-color: red; color: white; }
    .stop { background-color: gray; color: white; }
  </style>
</head>
<body>
  <h2>üéõÔ∏è REAPER Remote Control</h2>
  <button class="record" onclick="setCommand('RECORD')">RECORD</button>
  <button class="stop" onclick="setCommand('STOP')">STOP</button>
  <p id="status"></p>

  <script>
    async function setCommand(cmd) {
      const url = `https://api.github.com/repos/YOUR_USERNAME/reaper-remote/contents/command.txt`;
      const message = `Set ${cmd}`;
      const content = btoa(cmd + "\n"); // base64 encode

      const getResp = await fetch(url);
      const data = await getResp.json();
      const sha = data.sha; // required for updating an existing file

      const resp = await fetch(url, {
        method: "PUT",
        headers: {
          "Authorization": "token YOUR_GITHUB_TOKEN",
          "Accept": "application/vnd.github.v3+json"
        },
        body: JSON.stringify({ message, content, sha })
      });

      if (resp.ok) {
        document.getElementById('status').innerText = `Command set to ${cmd}`;
      } else {
        document.getElementById('status').innerText = `Error updating command`;
      }
    }
  </script>
</body>
</html>
